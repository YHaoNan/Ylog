---
title: VIM中被我忽略的技巧(复制篇)
date: 2019-11-16 19:50:27
tags: [vim]
categories: Vim
---

## 背景
VIM中的复制、剪切、粘贴分别对应着`y`、`d`、`p`。

如果不了解请先了解下相关背景知识。

## 默认寄存器
如果不对`y`、`d`、`p`做任何修饰直接使用，那么就会使用默认寄存器。(x命令也会)

对于`y`和`d`是将文本直接存储到默认寄存器，对于`p`则是将默认寄存器中的内容插入到当前光标下。、

## 其他寄存器
VIM提供了一些其他的寄存器，你可以使用`"{regisiter}`来指定一个寄存器。如`"ayw`是将当前单词放到寄存器a中，这个值可以是`a-z`。

## 复制专用寄存器
当你复制了一个单词，除了保存到默认寄存器，它还保存到一个名字是`0`的寄存器。

你可以使用`"0p`来插入它。来看下面的场景：
```
abc
def
```
比如我们想把第二行也换成abc，那么我们需要使用`yw`复制第一行内容。然后跳到下一行使用`dw`删除def，之后使用`p`粘贴。

但是观察结果，发现好像并没如我们所愿。
```
abc
def
```
第二行的内容依旧没变。

因为`dw`也会将文本保存到默认寄存器。

这时我们可以考虑用可视模式选中def，然后粘贴，也可以考虑先删除def，再复制粘贴abc。虽然都可以实现，但始终好像不太像那回事。

VIM提供了复制专用寄存器，它会保存复制的内容，而剪切的内容不会保存。我们可以使用它应付如下场景。

`ywjdw"0p`可以完成这次操作。分析一下，我们用`yw`复制了abc，用j移动到下一行，用`dw`删除def，用`"0p`将复制专用寄存器中的内容粘贴。

## 黑洞寄存器
如果我们只是想删除某个东西，并不像让它污染任何一个寄存器，可以使用黑洞寄存器。它的名字是`_`

所有复制、剪切操作的文本都会被黑洞寄存器直接丢弃。

`"_dw`命令会删除当前单词。


## 系统剪切板
`+`代表系统剪切板。

你可以使用这个寄存器与系统剪切板进行交互。

`"+y`代表复制到系统剪切板。同理`"+p`代表从系统剪切板粘贴。`"+d`代表剪切到系统剪贴板。
## 表达式寄存器
略
## 其他寄存器

寄存器|内容
:-:|:-:
"%|当前文件名
"#|轮换文件名
".|上次插入的文本
":|上次执行的Ex命令
"/|上次查找的模式


